{% extends "base.html" %}

{% block title %}–°–µ—Ä–≤–∏—Å - MOS-GSM{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <h1 class="text-3xl font-bold mb-6">üîß –°–µ—Ä–≤–∏—Å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</h1>

    <div class="space-y-6">
        <!-- –ú—è–≥–∫–∏–π —Å–±—Ä–æ—Å -->
        <div class="bg-gray-800 rounded-lg p-6 border border-yellow-500">
            <h2 class="text-xl font-bold text-yellow-400 mb-2">‚ö†Ô∏è –ú—è–≥–∫–∏–π —Å–±—Ä–æ—Å</h2>
            <p class="text-gray-400 mb-4">–£–¥–∞–ª—è–µ—Ç –≤—Å–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –∑–∞–ø–∏—Å–∏, –Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.</p>
            <button onclick="resetSoft()" class="bg-yellow-600 hover:bg-yellow-700 text-white font-semibold py-2 px-6 rounded-lg transition-colors">
                –í—ã–ø–æ–ª–Ω–∏—Ç—å –º—è–≥–∫–∏–π —Å–±—Ä–æ—Å
            </button>
        </div>

        <!-- –ñ—ë—Å—Ç–∫–∏–π —Å–±—Ä–æ—Å -->
        <div class="bg-gray-800 rounded-lg p-6 border border-red-500">
            <h2 class="text-xl font-bold text-red-400 mb-2">üî¥ –ñ—ë—Å—Ç–∫–∏–π —Å–±—Ä–æ—Å</h2>
            <p class="text-gray-400 mb-4">–ü–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª—è–µ—Ç –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—ë—Ç –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é!</p>
            <button onclick="resetHard()" class="bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-6 rounded-lg transition-colors">
                –í—ã–ø–æ–ª–Ω–∏—Ç—å –∂—ë—Å—Ç–∫–∏–π —Å–±—Ä–æ—Å
            </button>
        </div>

        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
        <div class="bg-gray-800 rounded-lg p-6 border border-gray-700">
            <h2 class="text-xl font-bold mb-2">‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
            <ul class="text-gray-400 space-y-2 text-sm">
                <li>‚Ä¢ <strong class="text-white">–ú—è–≥–∫–∏–π —Å–±—Ä–æ—Å:</strong> –û—á–∏—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –Ω–æ —Ç–∞–±–ª–∏—Ü—ã –æ—Å—Ç–∞—é—Ç—Å—è</li>
                <li>‚Ä¢ <strong class="text-white">–ñ—ë—Å—Ç–∫–∏–π —Å–±—Ä–æ—Å:</strong> –ü–µ—Ä–µ—Å–æ–∑–¥–∞—ë—Ç –≤—Å—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —Å –Ω—É–ª—è</li>
                <li>‚Ä¢ <strong class="text-white">–û–±–∞ –¥–µ–π—Å—Ç–≤–∏—è –Ω–µ–æ–±—Ä–∞—Ç–∏–º—ã!</strong></li>
            </ul>
        </div>
    </div>
</div>

<script>
    async function resetSoft() {
        if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã? –í—Å–µ —Ñ–∞–π–ª—ã –∏ –∑–∞–ø–∏—Å–∏ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã!\n\n–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ!')) return;
        if (!confirm('–ü–æ—Å–ª–µ–¥–Ω–µ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ! –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ?')) return;
        
        try {
            const response = await fetch('/admin/reset/soft', {
                method: 'POST'
            });
            
            const data = await response.json();
            
            if (response.ok) {
                alert('‚úÖ ' + data.message);
                window.location.href = '/ui/files';
            } else {
                alert('–û—à–∏–±–∫–∞: ' + (data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'));
            }
        } catch (error) {
            alert('–û—à–∏–±–∫–∞: ' + error.message);
        }
    }

    async function resetHard() {
        if (!confirm('‚ö†Ô∏è –û–ü–ê–°–ù–û! –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö?\n\n–í–°–ï –î–ê–ù–ù–´–ï –ë–£–î–£–¢ –ü–û–¢–ï–†–Ø–ù–´!')) return;
        if (!confirm('–í—ã —Ç–æ—á–Ω–æ —É–≤–µ—Ä–µ–Ω—ã? –≠—Ç–æ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ!')) return;
        if (!confirm('–ü–æ—Å–ª–µ–¥–Ω–∏–π —à–∞–Ω—Å –ø–µ—Ä–µ–¥—É–º–∞—Ç—å!')) return;
        
        try {
            const response = await fetch('/admin/reset/hard', {
                method: 'POST'
            });
            
            const data = await response.json();
            
            if (response.ok) {
                alert('‚úÖ ' + data.message);
                window.location.href = '/';
            } else {
                alert('–û—à–∏–±–∫–∞: ' + (data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'));
            }
        } catch (error) {
            alert('–û—à–∏–±–∫–∞: ' + error.message);
        }
    }
</script>
{% endblock %}
